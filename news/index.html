<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • daedalus</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Inter-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://www.imperial.ac.uk/jameel-institute/" class="external-link"><img src="https://raw.githubusercontent.com/jameel-institute/jameelinst.rpkg.theme/refs/heads/main/inst/pkgdown/assets/logo_imperial_jameel.svg" id="logo" alt="Abdul Latif Jameel Institute for Disease and Emergency Analytics"></a>
    <a class="navbar-brand me-2" href="../index.html">daedalus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/daedalus.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pandemic_costs.html">Evaluating the costs of pandemic scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/parameter_uncertainty.html">Exploring uncertainty in pandemic costs due to parameter uncertainty</a></li>
    <li><a class="dropdown-item" href="../articles/thresholded_response.html">Modelling threshold-dependent economic closures</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jameel-institute/daedalus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/jameel-institute/daedalus/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="daedalus-010">daedalus 0.1.0<a class="anchor" aria-label="anchor" href="#daedalus-010"></a></h2>
<p>This is a minor version release of {daedalus} for use in the IDM conference in 2024.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.24" id="daedalus-0024">daedalus 0.0.24<a class="anchor" aria-label="anchor" href="#daedalus-0024"></a></h2>
<p>This patch version adds a vignette on exploring the effect of parameter uncertainty on overall pandemic costs, and updates other vignettes and improves documentation.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.23" id="daedalus-0023">daedalus 0.0.23<a class="anchor" aria-label="anchor" href="#daedalus-0023"></a></h2>
<p>This patch corrects epidemic dynamics:</p>
<ol style="list-style-type: decimal"><li><p>Replaces <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mn>0</mn></msub><annotation encoding="application/x-tex">R_0</annotation></semantics></math> in force of infection calculations with transmission parameter <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>β</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>;</p></li>
<li><p>Adds a new function <code><a href="../reference/get_beta.html">get_beta()</a></code> to calculate model <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>β</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math> for a country and infection (thanks <a href="https://github.com/patcatgit" class="external-link">@patcatgit</a>);</p></li>
<li><p>Corrects the implementation of <code><a href="../reference/reff_calculation.html">r_eff()</a></code> to use model <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>β</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>;</p></li>
<li><p>Corrects <code><a href="../reference/prepare_parameters.html">prepare_parameters.daedalus_country()</a></code> to provide appropriate contact matrix values;</p></li>
<li><p>Adds tests to check newly added functions.</p></li>
</ol><p>There is a noticeable speed loss due to repeated calls to <code><a href="https://rdrr.io/r/base/eigen.html" class="external-link">base::eigen()</a></code> and <code><a href="https://rdrr.io/r/base/solve.html" class="external-link">base::solve()</a></code> in <code><a href="../reference/reff_calculation.html">r_eff()</a></code>.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.22" id="daedalus-0022">daedalus 0.0.22<a class="anchor" aria-label="anchor" href="#daedalus-0022"></a></h2>
<p>This patch makes the infection IFR values available for the DAEDALUS-relevant age group in <code>infection_data</code> and in <code>&lt;daedalus_infection&gt;</code> objects under the name <code>"ifr"</code>.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.21" id="daedalus-0021">daedalus 0.0.21<a class="anchor" aria-label="anchor" href="#daedalus-0021"></a></h2>
<p>This patch updates and corrects the cost of school closures by adding lost earnings, with simplifying assumptions of a single school-age cohort, that all school age children are in school, a single value of the number of expected work years, and a constant global value of the effectiveness of remote education.</p>
<p>Educational losses are now a function of number of school days lost to closures, the country per-capita GNI, the number of school-age children, the effectiveness of remote education, and a coefficient of lost earnings.</p>
<p>This calculation replaces the previous value of educational losses, which was the education sector GVA loss over the closure period. The education sector GVA loss is now added to the overall economic losses.</p>
<p>Educational losses due to absences are still calculated as GVA losses due to worker absences, and not in terms of lost earnings for students due to student illness and absence.</p>
<ol style="list-style-type: decimal"><li><p>Added internal function <code><a href="../reference/get_value_lost_earnings.html">get_value_lost_earnings()</a></code> to get a (constant) coefficient for the value of earnings lost due to lost education;</p></li>
<li><p>Added internal function <code><a href="../reference/get_value_school_year.html">get_value_school_year()</a></code> to get the value of a school year for any country GNI (gross national income per capita).</p></li>
<li><p>Added package constants <code>i_SCHOOL_AGE</code>, <code>edu_effectiveness_remote</code> (0.33), <code>edu_annual_ror</code> (0.08), and <code>earnings_loss_discount</code> (0.03)</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.20" id="daedalus-0020">daedalus 0.0.20<a class="anchor" aria-label="anchor" href="#daedalus-0020"></a></h2>
<p>This patch updates the state variable in <code><a href="../reference/daedalus.html">daedalus()</a></code> to substantially reduce the number of compartments; all empty compartments have been removed. This improves the speed of model runs as there are fewer derivatives to calculate.</p>
<ol style="list-style-type: decimal"><li><p>State variable is a 3D array with the dimensions: <code>c(49, 9, 3)</code>. The working-age economic sectors are added on as rows after the age-groups. Epidemiological compartments are unchanged. The third dimension holds data on vaccination status, including new vaccinations.</p></li>
<li><p>Helper functions are updated to support the new state dimensions.</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>t</mi></msub><annotation encoding="application/x-tex">R_t</annotation></semantics></math> calculation in <code><a href="../reference/reff_calculation.html">r_eff()</a></code> has been simplified to the proportional susceptible times <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mn>0</mn></msub><annotation encoding="application/x-tex">R_0</annotation></semantics></math>, pending a more accurate calculation.</p></li>
<li><p>The internal helper function <code><a href="../reference/prepare_output.html">prepare_output()</a></code> has been refactored to avoid use of <code><a href="https://rdrr.io/r/base/array2DF.html" class="external-link">base::array2DF()</a></code> to remove the dependency on newer versions of R.</p></li>
<li><p>Removes unused between-sector contacts in force-of-infection calculations.</p></li>
<li><p>Moves some contact scaling to the parameter preparation stage to reduce operations during the model run.</p></li>
<li><p>Correctly sums the total number of infectious individuals in the community; previously, the implementation resulted in segregation by economic sector.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.19" id="daedalus-0019">daedalus 0.0.19<a class="anchor" aria-label="anchor" href="#daedalus-0019"></a></h2>
<p>This patch adds functionality to run <code><a href="../reference/daedalus.html">daedalus()</a></code> with the <code>country</code> argument passed as one of <code>country_codes_iso2c</code> or <code>country_codes_iso3c</code> for 2 and 3 letter ISO country codes.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.18" id="daedalus-0018">daedalus 0.0.18<a class="anchor" aria-label="anchor" href="#daedalus-0018"></a></h2>
<p>This patch adds logging of daily new vaccinations and provides an output helper function, <code><a href="../reference/epi_output_helpers.html">get_new_vaccinations()</a></code>, to get daily new vaccinations.</p>
<ul><li><p>Adds a third layer to the fourth dimension to the state array to hold new vaccinations;</p></li>
<li><p>Adds a new helper function <code><a href="../reference/values_to_state.html">values_to_state()</a></code> to convert a vector to the state array;</p></li>
<li><p>Updates a number of indexing operations to disregard the new data layer of new vaccinations;</p></li>
<li><p>Updates <code><a href="../reference/daedalus.html">daedalus()</a></code>, <code><a href="../reference/prepare_output.html">prepare_output()</a></code> and <code><a href="../reference/make_initial_state.html">make_initial_state()</a></code> to account for the new vaccinations layer;</p></li>
<li><p>Updates tests for newly added functionality.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.17" id="daedalus-0017">daedalus 0.0.17<a class="anchor" aria-label="anchor" href="#daedalus-0017"></a></h2>
<p>This patch removes dual implementation levels for response strategies. The “elimination” strategy has a “high” implementation level, while all other strategies keep their “light” implementation level.</p>
<ul><li><p>The <code><a href="../reference/daedalus.html">daedalus()</a></code> argument <code>implementation_level</code> has been removed.</p></li>
<li><p>Tests and documentation have been updated to remove references to implementation levels.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.16" id="daedalus-0016">daedalus 0.0.16<a class="anchor" aria-label="anchor" href="#daedalus-0016"></a></h2>
<p>This patch fixes an issue where vaccination start was tied to the <code>response_time</code>; it is now correctly controlled by the vaccine investment level passed to <code><a href="../reference/daedalus.html">daedalus()</a></code>.</p>
<ul><li><p>Added a <code>vax_switch</code> which is manually turned on in stage 03 of the model (never turned off);</p></li>
<li><p>Added test to check that there is no vaccination before scenario-defined start times;</p></li>
<li><p>Added tests to check that vaccine investment levels control epidemic deaths.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.15" id="daedalus-0015">daedalus 0.0.15<a class="anchor" aria-label="anchor" href="#daedalus-0015"></a></h2>
<p>This patch fixes an issue where closures were not ended in model runs where the closure began after the epidemic had stopped growing. This mostly affected edge cases of countries with large spare hospital capacity, and relatively late <code>response_time</code>s. In such cases the closure end time was assigned as the simulation end time, inflating costs related to closures. The fix:</p>
<ul><li><p>Prevents closures from being activated by the <code>hospital_capacity</code> trigger if the epidemic is not growing, even if the hospital capacity threshold is crossed;</p></li>
<li><p>Prevents closures from being activated by the <code>response_time</code> trigger if the epidemic is not growing between stage 01 and stage 02. Closures are manually turned off if the epidemic is not growing (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>t</mi></msub><mo>&lt;</mo><mn>1.0</mn></mrow><annotation encoding="application/x-tex">R_t &lt; 1.0</annotation></semantics></math>).</p></li>
</ul><p>Tests for different response times check that the model behaves as expected.</p>
<div class="section level3">
<h3 id="miscellaneous-changes-0-0-15">Miscellaneous changes<a class="anchor" aria-label="anchor" href="#miscellaneous-changes-0-0-15"></a></h3>
<ul><li><p>The package now requires a minimum R version &gt;= v4.3 due to the use of the new function <code><a href="https://rdrr.io/r/base/array2DF.html" class="external-link">array2DF()</a></code>;</p></li>
<li><p><code><a href="../reference/prepare_parameters.html">prepare_parameters.daedalus_country()</a></code> now provides a contact matrix scaled by the leading eigenvalue but not the demography for use in <code><a href="../reference/reff_calculation.html">r_eff()</a></code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.14" id="daedalus-0014">daedalus 0.0.14<a class="anchor" aria-label="anchor" href="#daedalus-0014"></a></h2>
<p>This patch adds vaccine investment scenarios to <em>daedalus</em>. All model runs must now include an assumption about the level of advance vaccine investment, defaulting to “none”.</p>
<ol style="list-style-type: decimal"><li><p>Added vaccine investment scenario related data: <code>vaccination_scenario_data</code> for vaccination parameters, <code>vaccination_scenario_names</code>, and <code>vaccination_parameter_names</code>.</p></li>
<li><p>Added the <code>&lt;daedalus_vaccination&gt;</code> S3 class to hold vaccination parameters, along with class infrastructure (print, get/set, and <code><a href="../reference/prepare_parameters.html">prepare_parameters()</a></code> methods).</p></li>
<li><p>Added helper function <code><a href="../reference/class_vaccination.html">daedalus_vaccination()</a></code> to return vaccination object corresponding to four vaccine investment scenarios.</p></li>
<li><p>Added tests for vaccination class, model runs with vaccination, and updated documentation.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.13" id="daedalus-0013">daedalus 0.0.13<a class="anchor" aria-label="anchor" href="#daedalus-0013"></a></h2>
<p>This patch version adds ISO 3166 2- and 3- character country codes for the countries in <code>country_names</code>, as the package data <code>country_codes_iso2c</code> and <code>country_codes_iso3c</code>.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.12" id="daedalus-0012">daedalus 0.0.12<a class="anchor" aria-label="anchor" href="#daedalus-0012"></a></h2>
<p>This patch version adds functions to summarise model outputs (<a href="https://github.com/jameel-institute/daedalus/issues/30" class="external-link">#30</a>):</p>
<ol style="list-style-type: decimal"><li><p><code><a href="../reference/epi_output_helpers.html">get_incidence()</a></code> provides per-timestep (daily) values of one or more of infections (symptomatic and asymptomatic), hospitalisations (or the demand), and deaths, disaggregated by one or more of the following groups: age group, economic sector, and vaccination status.</p></li>
<li><p><code><a href="../reference/epi_output_helpers.html">get_epidemic_summary()</a></code> provides the total number of individuals infected, hospitalised, and dead, in one or more groups, while defaulting to providing an overall summary.</p></li>
</ol><ul><li><p>The model state variable now includes values tracking daily infections (susceptible to exposed) and daily hospitalisations.</p></li>
<li><p>Basic tests added for these functions.</p></li>
<li><p>Package <em>data.table</em> imported to help with model data output processing.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.11" id="daedalus-0011">daedalus 0.0.11<a class="anchor" aria-label="anchor" href="#daedalus-0011"></a></h2>
<p>This patch version corrects spare hospital capacity data by using corrected versions of the raw hospital capacity data (<a href="https://github.com/jameel-institute/daedalus/issues/31" class="external-link">#31</a>).</p>
<p>The <code>country_data</code> and <code>country_names</code> package data has also been updated. Thailand is now available as a country.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.10" id="daedalus-0010">daedalus 0.0.10<a class="anchor" aria-label="anchor" href="#daedalus-0010"></a></h2>
<p>This patch version adds a basic vaccination functionality, which is controlled by the newly added <code>vaccination_rate</code> parameter to <code><a href="../reference/daedalus.html">daedalus()</a></code></p>
<ul><li><p>Vaccination starts when a response is triggered, and is active even in the ‘no closures’ scenario;</p></li>
<li><p>Vaccination rate and start time is uniform across age groups;</p></li>
<li><p>Vaccine-derived protection (reduced susceptibility) is represented by hard-coded parameter <code>tau</code>, and the waning of this protection is also hard-coded and represented by parameter <code>psi</code>. Default values are 0.5 and 1 / 270, respectively;</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>t</mi></msub><annotation encoding="application/x-tex">R_t</annotation></semantics></math> calculation in <code><a href="../reference/reff_calculation.html">r_eff()</a></code> includes reduced susceptibility for vaccinated individuals.</p></li>
</ul><p>Internal changes include:</p>
<ul><li><p>The system state is now represented as a 4-dimensional array, with the vaccination groups/strata on the 4th dimension (see package constant <code>DIM_VACCINE_STRATA</code>);</p></li>
<li><p>ODE system has been updated to include reduced susceptibility and movements between vaccination strata;</p></li>
<li><p>Vaccination rate <code>nu</code> is represented in terms of the proportion of the total population, and the internal function <code><a href="../reference/scale_nu.html">scale_nu()</a></code> increases <code>nu</code> as the number of individuals eligible for vaccination decreases.</p></li>
<li><p>Added tests for vaccination functionality.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.9" id="daedalus-009">daedalus 0.0.9<a class="anchor" aria-label="anchor" href="#daedalus-009"></a></h2>
<p>This patch version adds a spontaneous social distancing mechanism to the model in the internal function <code><a href="../reference/get_distancing_coefficient.html">get_distancing_coefficient()</a></code>, which modifies the infection transmission rate based on the number of new deaths. The intention is to model public concern that leads to a spontaneous reduction in community social contacts.</p>
<ul><li>Social distancing is independent of the specific response strategy chosen, but is active while a response strategy is active. In future, social distancing will be conditioned on vaccination regime completion.</li>
<li>Social distancing is active in the ‘no response’ scenario.</li>
<li>Workplace contacts are not affected.</li>
<li>Social distancing scales the transmission rate by a value between 1.0 (no distancing) and the <code>lower_limit</code> (arbitrary value of 0.2) using an exponential decay function.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.8" id="daedalus-008">daedalus 0.0.8<a class="anchor" aria-label="anchor" href="#daedalus-008"></a></h2>
<p>This patch adds hospital capacity data and two downstream effects.</p>
<ol style="list-style-type: decimal"><li><p>Spare hospital capacity data raw data file has been added to <code>inst/extdata</code>. A processing script to generate an intermediate dataset has been added to <code>data-raw/</code>. The number of countries with available data has been reduced to 41.</p></li>
<li><p><code>&lt;daedalus_country&gt;</code> class objects now provide spare capacity data.</p></li>
<li><p>A call to <code><a href="../reference/daedalus.html">daedalus()</a></code> now takes the <code>response_threshold</code> from the <code>country</code>-specific hospital capacity by default. Users can still pass a custom value to override the package data.</p></li>
<li><p>The model’s mortality rate <code>omega</code> is increased by <code>1.6x</code> when the total number of hospitalisations exceed the spare hospital capacity. This is implemented using a switch <code>hosp_switch</code> mutable parameter, and the switch activation and termination is rolled into the event functions that control closures.</p></li>
<li><p>Added tests to check that hospital capacity has expected effect.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.7" id="daedalus-007">daedalus 0.0.7<a class="anchor" aria-label="anchor" href="#daedalus-007"></a></h2>
<p>This patch adds functionality to calculate pandemic costs using the newly added function <code><a href="../reference/get_costs.html">get_costs()</a></code>. This patch also adds <code>life_value</code>, a list of country-wise, age-specific values of statistical life lost as package data.</p>
<p>Other changes:</p>
<ol style="list-style-type: decimal"><li><p>Data preparation scripts and raw data that are used to generate the <code>life_value</code> data. Subsetting the countries to those for which this data is available leaves 67 countries; Taiwan and Hong Kong are removed due to lack of life value data.</p></li>
<li><p><code>&lt;daedalus_output&gt;</code> now includes a measure of the total simulation time which could be useful for future calculations of percentage GDP loss.</p></li>
<li><p><code>&lt;daedalus_output&gt;</code> also returns the openness coefficient vector associated with the model response strategy.</p></li>
<li><p>Tests and documentation for all changes in the form of function docs and vignette updates.</p></li>
<li><p>Package <em>data.table</em> now imported for use in cost calculations.</p></li>
<li><p>Package DESCRIPTION updated to reflect scenario modelling rather than optimisation.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="daedalus-006">daedalus 0.0.6<a class="anchor" aria-label="anchor" href="#daedalus-006"></a></h2>
<p>This patch adds the <code>&lt;daedalus_infection&gt;</code> class to represent and hold infection parameter data for <code><a href="../reference/daedalus.html">daedalus()</a></code>. Access, assignment, and print methods are also added, in addition to internal helpers such as <code>as_country()</code>. The class is tested with newly added tests.</p>
<p>Other changes:</p>
<ol style="list-style-type: decimal"><li><p>The <code><a href="../reference/get_data.html">get_data()</a></code>, <code><a href="../reference/set_data.html">set_data()</a></code> and <code><a href="../reference/prepare_parameters.html">prepare_parameters()</a></code> generics now have methods for <code>&lt;daedalus_infection&gt;</code>s.</p></li>
<li><p>Removes <code>make_infection_parameters()</code> in favour of <code>prepare_parameters.infection()</code>.</p></li>
<li><p><code><a href="../reference/daedalus.html">daedalus()</a></code> argument <code>epidemic</code> accepting epidemic name string is changed to argument <code>infection</code> accepting <code>&lt;daedalus_infection&gt;</code> objects or epidemic names.</p></li>
<li><p>Vignettes have been updated to use <code>&lt;daedalus_infection&gt;</code> objects.</p></li>
<li><p>Website reference page updated to have sections.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="daedalus-005">daedalus 0.0.5<a class="anchor" aria-label="anchor" href="#daedalus-005"></a></h2>
<p>This patch adds the <code>&lt;daedalus_country&gt;</code> class to represent country and territory data for <code><a href="../reference/daedalus.html">daedalus()</a></code>. Access, assignment, and print methods are also added, in addition to internal helpers such as <code>as_daedalus_country()</code>. The class is tested with newly added tests.</p>
<p>Other changes:</p>
<ol style="list-style-type: decimal"><li><p>Adds the generic functions <code><a href="../reference/get_data.html">get_data()</a></code>, <code><a href="../reference/set_data.html">set_data()</a></code> and <code><a href="../reference/prepare_parameters.html">prepare_parameters()</a></code>, with methods for <code>&lt;daedalus_country&gt;</code> objects. Methods for infection data are also anticipated.</p></li>
<li><p>Removes <code>make_country_parameters()</code> in favour of <code><a href="../reference/prepare_parameters.html">prepare_parameters.daedalus_country()</a></code>.</p></li>
<li><p><code><a href="../reference/daedalus.html">daedalus()</a></code> accepts its first argument as either a country name or a <code>&lt;daedalus_country&gt;</code>, and no longer accepts a <code>country_params_manual</code> argument; all changes to country parameters should be made via the class.</p></li>
<li><p><code><a href="../reference/make_initial_state.html">make_initial_state()</a></code> works on <code>&lt;daedalus_country&gt;</code> objects instead of country names. Since this is an internal function it does not support passing a country string name.</p></li>
<li><p>Vignettes have been updated to show how to use <code>&lt;daedalus_country&gt;</code> objects.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4" id="daedalus-004">daedalus 0.0.4<a class="anchor" aria-label="anchor" href="#daedalus-004"></a></h2>
<p>This patch adds some basic pandemic response functionality (<a href="https://github.com/jameel-institute/daedalus/issues/15" class="external-link">#15</a>). This functionality is shown in a new vignette <code>thresholded_interventions.Rmd</code>.</p>
<ol style="list-style-type: decimal"><li><p>The function signature for <code><a href="../reference/daedalus.html">daedalus()</a></code> has been changed to accept <code>response_strategy</code>, <code>implementation_level</code>, <code>response_time</code>, and <code>response_threshold</code> arguments which specify these parameters. Sensible defaults for the strategy are “none”, and a “light” implementation level for other strategies.</p></li>
<li><p>The model supports the “none”, “economic closures”, “school closures”, and “elimination” strategies, with economic sector openness coefficients for the “light” and “heavy” implementation of these strategies stored in the package data object <code>closure_data</code>. The <code>data-raw/closure_data.R</code> file shows how this data is generated from raw data files provided by EPPI and added in <code>inst/extdata</code>.</p></li>
<li><p>Closures are triggered by the response time being reached, or the total hospitalisation reaching the response threshold. The state variable has been expanded by one to accommodate a switch that is initially zero, is changed to one (for on) when the response is activated, and back to zero when the response ends. Responses currently end on the same trigger of the effective R being less than 1.0.</p></li>
<li><p>The <code>make_parameters()</code> function has been split into <code>make_infect_parameters()</code> and <code>make_country_parameters()</code> to be clearer and more manageable. <code><a href="../reference/daedalus.html">daedalus()</a></code>-level override for parameters which was originally implemented as <code>...</code> has been replaced with three separate overrides: <code>country_params_manual</code>, <code>infect_params_manual</code>, and <code>initial_state_manual</code>, for users to pass custom values.</p></li>
<li><p><code><a href="../reference/prepare_output.html">prepare_output()</a></code> has been made internal; it omits data for non-working age groups in economic sectors (as these are always 0), and pads all sector numbers to fit the format <code>sector_XX</code>.</p></li>
<li><p>Internal functions for R effective calculations and getting the total hospitalisations, <code><a href="../reference/reff_calculation.html">r_eff()</a></code> and <code><a href="../reference/get_hospitalisations.html">get_hospitalisations()</a></code> have been added.</p></li>
<li><p>Closures are implemented as <code><a href="https://rdrr.io/pkg/deSolve/man/events.html" class="external-link">deSolve::events</a></code> triggered by a rootfinding function, with separate functions for activation and termination, which are implemented as <code><a href="../reference/make_response_threshold_event.html">make_response_threshold_event()</a></code> and <code><a href="../reference/make_rt_end_event.html">make_rt_end_event()</a></code>.</p></li>
<li><p><code>contacts_between_sectors</code> is now set to 0.0, it was previously 1e-6.</p></li>
<li><p>Added tests for closure triggers having expected effects; but closure end points are not specifically tested.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="daedalus-003">daedalus 0.0.3<a class="anchor" aria-label="anchor" href="#daedalus-003"></a></h2>
<p>This patch version adds workplace infections to the epidemiological model, and adds country demography data.</p>
<ol style="list-style-type: decimal"><li><p>Added worker-to-worker infections within and between sectors, and consumer to worker contacts (<a href="https://github.com/jameel-institute/daedalus/issues/9" class="external-link">#9</a>).</p></li>
<li><p>Added package data: <code>country_data</code> (country demography data) and <code>economic_contacts</code> (sector-wise contacts data). Note that worker-to-worker contacts between sectors currently takes a dummy value as it is not expected to be used in the near future (<a href="https://github.com/jameel-institute/daedalus/issues/11" class="external-link">#11</a>).</p></li>
<li><p>Modified <code><a href="../reference/daedalus.html">daedalus::daedalus()</a></code> to take a single required argument for country name to run the model with package data for country contact matrices and economic and demographic data (<a href="https://github.com/jameel-institute/daedalus/issues/11" class="external-link">#11</a>). Users can still pass infection parameters via <code>...</code>.</p></li>
<li><p>Made package function <code>default_parameters()</code> internal and renamed to <code>make_parameters()</code>; added the internal helper function <code><a href="../reference/make_initial_state.html">make_initial_state()</a></code> to quickly generate country-appropriate initial states.</p></li>
<li><p>Added documentation and tests for modified function calls.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2" id="daedalus-002">daedalus 0.0.2<a class="anchor" aria-label="anchor" href="#daedalus-002"></a></h2>
<p>This patch version adds a basic epidemiological model (<a href="https://github.com/jameel-institute/daedalus/issues/7" class="external-link">#7</a>).</p>
<ol style="list-style-type: decimal"><li><p>Added the model functions <code><a href="../reference/daedalus.html">daedalus()</a></code> (user-facing) and <code>.daedalus_ode()</code> (internal) to run a simple age-stratified (4 age groups) SEIR-HD epidemiological model taken from <a href="https://github.com/robj411" class="external-link">@robj411</a> <a href="https://github.com/robj411/p2_drivers" class="external-link uri">https://github.com/robj411/p2_drivers</a>,</p></li>
<li><p>Added default model parameters in <code>default_parameters()</code> which correspond roughly to pandemic influenza,</p></li>
<li><p>Added <code><a href="../reference/prepare_output.html">prepare_output()</a></code> to prepare <code><a href="../reference/daedalus.html">daedalus()</a></code> output,</p></li>
<li><p>Added tests for all functions,</p></li>
<li><p>Updated the package infrastructure: <code>DESCRIPTION</code>, <code>NAMESPACE</code>, <code>WORDLIST</code>, <code>.Rbuildignore</code>, and <code>_pkgdown.yml</code> reference.</p></li>
<li><p>Disabled the <code>undesirable_function_linter</code> in the vignettes as it flags <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> calls.</p></li>
<li><p>Updated the Readme and added content to the ‘Get started’ vignette.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="daedalus-001">daedalus 0.0.1<a class="anchor" aria-label="anchor" href="#daedalus-001"></a></h2>
<p>Initial package setup including GitHub Actions workflows and code quality checks.</p>
<ul><li><p>Updated GH Actions workflows for R CMD check (fails on ‘NOTE’) and code test coverage;</p></li>
<li><p>Added linting, citation update, Readme rendering, and license year update workflows;</p></li>
<li><p>Added spellchecking and a known words list.</p></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pratik Gupte, Patrick Doohan, Robert Johnson, Rich FitzJohn, Emma Russell, David Mears, Katharina Hauck, Abdul Latif Jameel Institute for Disease and Emergency Analytics, Imperial College of Science, Technology and Medicine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

