<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Represent non-pharmaceutical intervention strategies for DAEDALUS — class_npi • daedalus</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Inter-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Represent non-pharmaceutical intervention strategies for DAEDALUS — class_npi"><meta name="description" content="Helper functions to create and work with S3 class
&amp;lt;daedalus_npi&amp;gt; objects for use with daedalus().
These objects store NPI parameters for reuse and have methods for
easy parameter access and editing, as well as processing raw NPI
characteristics for the DAEDALUS model.
Most NPIs must be initialised with an associated country and infection;
these are used to determine flag positions as well as the state-values
(hospital capacity) and incidence-prevalence ratio (IPR) at which the NPI
starts and ends reactively.
daedalus_timed_npi() is a helper function to create a &amp;lt;daedalus_npi&amp;gt; that
is only trigged by time, and is not responsive to state variables.
Primarily intended for use in real time modelling."><meta property="og:description" content="Helper functions to create and work with S3 class
&amp;lt;daedalus_npi&amp;gt; objects for use with daedalus().
These objects store NPI parameters for reuse and have methods for
easy parameter access and editing, as well as processing raw NPI
characteristics for the DAEDALUS model.
Most NPIs must be initialised with an associated country and infection;
these are used to determine flag positions as well as the state-values
(hospital capacity) and incidence-prevalence ratio (IPR) at which the NPI
starts and ends reactively.
daedalus_timed_npi() is a helper function to create a &amp;lt;daedalus_npi&amp;gt; that
is only trigged by time, and is not responsive to state variables.
Primarily intended for use in real time modelling."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://www.imperial.ac.uk/jameel-institute/" class="external-link"><img src="https://raw.githubusercontent.com/jameel-institute/jameelinst.rpkg.theme/refs/heads/main/inst/pkgdown/assets/logo_imperial_jameel.svg" id="logo" alt="Abdul Latif Jameel Institute for Disease and Emergency Analytics"></a>
    <a class="navbar-brand me-2" href="../index.html">daedalus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.35</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/daedalus.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Model description and user parameterisation</h6></li>
    <li><a class="dropdown-item" href="../articles/info_model_description.html">General model description</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Package vignettes and user guides</h6></li>
    <li><a class="dropdown-item" href="../articles/thresholded_response.html">Modelling threshold-dependent economic closures</a></li>
    <li><a class="dropdown-item" href="../articles/timed_response.html">Modelling time-limited economic closures</a></li>
    <li><a class="dropdown-item" href="../articles/pandemic_costs.html">Evaluating the costs of pandemic scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/infection_parameter_uncertainty.html">Modelling outcomes under uncertainty in infection parameters</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Model details: Calculating pandemic costs</h6></li>
    <li><a class="dropdown-item" href="../articles/info_life_value.html">Value of life-years lost</a></li>
    <li><a class="dropdown-item" href="../articles/info_edu_value.html">Value of educational time lost</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jameel-institute/daedalus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Represent non-pharmaceutical intervention strategies for DAEDALUS</h1>
      <small class="dont-index">Source: <a href="https://github.com/jameel-institute/daedalus/blob/main/R/class_npi.R" class="external-link"><code>R/class_npi.R</code></a>, <a href="https://github.com/jameel-institute/daedalus/blob/main/R/class_timed_npi.R" class="external-link"><code>R/class_timed_npi.R</code></a></small>
      <div class="d-none name"><code>class_npi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Helper functions to create and work with S3 class
<code>&lt;daedalus_npi&gt;</code> objects for use with <code><a href="daedalus.html">daedalus()</a></code>.
These objects store NPI parameters for reuse and have methods for
easy parameter access and editing, as well as processing raw NPI
characteristics for the DAEDALUS model.</p>
<p>Most NPIs must be initialised with an associated <code>country</code> and <code>infection</code>;
these are used to determine flag positions as well as the state-values
(hospital capacity) and incidence-prevalence ratio (IPR) at which the NPI
starts and ends reactively.</p>
<p><code>daedalus_timed_npi()</code> is a helper function to create a <code>&lt;daedalus_npi&gt;</code> that
is only trigged by time, and is not responsive to state variables.
Primarily intended for use in real time modelling.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">daedalus_npi</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">country</span>,</span>
<span>  <span class="va">infection</span>,</span>
<span>  openness <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start_time <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  end_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_duration <span class="op">=</span> <span class="fl">365</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_daedalus_npi</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'daedalus_npi'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">daedalus_timed_npi</span><span class="op">(</span><span class="va">start_time</span>, <span class="va">end_time</span>, <span class="va">openness</span>, <span class="va">country</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>An NPI strategy name from among
<a href="https://jameel-institute.github.io/daedalus.data/reference/closure_strategies.html">daedalus.data::closure_strategy_names</a>, or <code>NA</code>.
Passing a pre-defined strategy name automatically pulls in openness
parameters for the associated response strategy; these are stored as
packaged data in <a href="https://jameel-institute.github.io/daedalus.data/reference/closure_strategies.html">daedalus.data::closure_strategy_data</a>.</p>
<p>Pass <code>NA</code> to define a custom response strategy by passing a vector to
<code>openness</code>.</p></dd>


<dt id="arg-country">country<a class="anchor" aria-label="anchor" href="#arg-country"></a></dt>
<dd><p>A country or territory object of class <code>&lt;daedalus_country&gt;</code>,
<strong>or</strong> a country or territory name from those included in the package;
see <a href="https://jameel-institute.github.io/daedalus.data/reference/country_names_codes.html">daedalus.data::country_names</a>, <strong>or</strong> a country ISO2 or ISO3 code; see
<a href="https://jameel-institute.github.io/daedalus.data/reference/country_names_codes.html">daedalus.data::country_codes_iso2c</a> and
<a href="https://jameel-institute.github.io/daedalus.data/reference/country_names_codes.html">daedalus.data::country_codes_iso3c</a>.
Country-specific data such as the community and workplace contacts, the
demography, and the distribution of the workforce into economic sectors is
automatically accessed from package data for the relevant country name if it
is passed as a string.
To override package defaults for country characteristics, pass a
<code>&lt;daedalus_country&gt;</code> object instead. See <code><a href="class_country.html">daedalus_country()</a></code> for more.</p></dd>


<dt id="arg-infection">infection<a class="anchor" aria-label="anchor" href="#arg-infection"></a></dt>
<dd><p>An infection parameter object of the class
<code>&lt;daedalus_infection&gt;</code>, <strong>or</strong> an epidemic name for which data are provided
in the package; see <a href="https://jameel-institute.github.io/daedalus.data/reference/epidemic_data.html">daedalus.data::epidemic_names</a> for historical epidemics
or epidemic waves for which parameters are available.
Passing the name as a string automatically accesses the default parameters
of an infection. Create and pass a <code>&lt;daedalus_infection&gt;</code> to tweak infection
parameters using <code><a href="class_infection.html">daedalus_infection()</a></code>.</p></dd>


<dt id="arg-openness">openness<a class="anchor" aria-label="anchor" href="#arg-openness"></a></dt>
<dd><p>For <code>daedalus_npi()</code>, an optional numeric vector giving the openness of each
economic sector in the model when the NPI is in effect.</p>
<p>For <code>daedalus_timed_npi()</code>, a list of numeric vectors giving the openness
coefficients for each interval specified by corresponding elements of
<code>start_time</code> and <code>end_time</code>.</p>
<p>Expected to have a length of <code>N_ECON_SECTORS</code> (currently 45), with all values
are in the range \([0, 1]\),</p></dd>


<dt id="arg-start-time">start_time<a class="anchor" aria-label="anchor" href="#arg-start-time"></a></dt>
<dd><p>For <code>daedalus_npi()</code>, a single number giving the number of days after the
start of the model that the NPI response begins. Defaults to 30.</p>
<p>For <code>daedalus_timed_npi()</code>: may be a vector of NPI start times, with no
default values.</p></dd>


<dt id="arg-end-time">end_time<a class="anchor" aria-label="anchor" href="#arg-end-time"></a></dt>
<dd><p>For <code>daedalus_npi()</code>, a single number giving the number of days after the
start of the model that the NPI response ends. Defaults to <code>NULL</code>,
indicating that the response ends (if no other condition is met), at the
maximum duration.</p>
<p>For <code>daedalus_timed_npi()</code>: may be a vector of NPI end times, with no
default values. Timed NPIs have no default duration.</p></dd>


<dt id="arg-max-duration">max_duration<a class="anchor" aria-label="anchor" href="#arg-max-duration"></a></dt>
<dd><p>The maximum number of days that an NPI response is active
whether started by passing the <code>start_time</code> or when a state threshold is
crossed. Defaults to 365 days. NPIs created using <code>daedalus_timed_npi()</code> have
no default maximum duration and are encoded by pairs of start and end times.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object to be tested or printed as a <code>&lt;daedalus_npi&gt;</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>For <code>daedalus_npi()</code>, other parameters passed to
<code><a href="class_response.html">new_daedalus_response()</a></code>.
For the <code>print</code> method, other parameters passed to <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>daedalus_npi()</code>: A <code>&lt;daedalus_npi&gt;</code> class object that specifies an NPI that
may be responsive to both model state and time.</p>
<p><code>daedalus_timed_npi()</code>: A <code>&lt;daedalus_npi&gt;</code> class object which specifies
time-limited interventions only.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that NPIs created using <code>daedalus_npi()</code> are reactive to the model state
(i.e., the epidemic state), and can trigger multiple times when state
conditions are met.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># for a school closure strategy</span></span></span>
<span class="r-in"><span><span class="fu">daedalus_npi</span><span class="op">(</span><span class="st">"school_closures"</span>, <span class="st">"GBR"</span>, <span class="st">"sars_cov_1"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">&lt;daedalus_npi/daedalus_response&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NPI strategy: <span style="font-weight: bold;">school_closures</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Start time (days): <span style="color: #0000BB;">30</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> End time (days): <span style="color: #0000BB;">NA</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Openness (mean prop.): <span style="color: #0000BB;">0.93</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Maximum duration (days): <span style="color: #0000BB;">365</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set custom openness</span></span></span>
<span class="r-in"><span><span class="fu">daedalus_npi</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="st">"GBR"</span>, <span class="st">"sars_cov_1"</span>,</span></span>
<span class="r-in"><span>  openness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">45</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">&lt;daedalus_npi/daedalus_response&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NPI strategy: <span style="font-weight: bold;">custom</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Start time (days): <span style="color: #0000BB;">30</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> End time (days): <span style="color: #0000BB;">NA</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Openness (mean prop.): <span style="color: #0000BB;">0.1</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Maximum duration (days): <span style="color: #0000BB;">365</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># time-limited NPI with multiple phases</span></span></span>
<span class="r-in"><span><span class="fu">daedalus_timed_npi</span><span class="op">(</span></span></span>
<span class="r-in"><span>  start_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  end_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">25</span>, <span class="fl">40</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  openness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">45</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">45</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">45</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  country <span class="op">=</span> <span class="st">"GBR"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">&lt;daedalus_npi/daedalus_response&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NPI strategy: <span style="font-weight: bold;">custom_timed</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Start time (days): <span style="color: #0000BB;">10</span>, <span style="color: #0000BB;">20</span>, and <span style="color: #0000BB;">30</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> End time (days): <span style="color: #0000BB;">15</span>, <span style="color: #0000BB;">25</span>, and <span style="color: #0000BB;">40</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Openness (mean prop.): <span style="color: #0000BB;">1</span>, <span style="color: #0000BB;">0.5</span>, and <span style="color: #0000BB;">0.2</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> Maximum duration (days): <span style="color: #0000BB;">NA</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pratik Gupte, Patrick Doohan, Robert Johnson, Pablo Perez-Guzman, Rich FitzJohn, Emma Russell, David Mears, Katharina Hauck, Abdul Latif Jameel Institute for Disease and Emergency Analytics, Imperial College of Science, Technology and Medicine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

